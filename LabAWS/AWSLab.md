# Отчет. Лабораторная работа №1. Анализ биллинга облачных сервисов

**Авторство: Цырульников Артём Алексеевич К3239**

## Вариант 10

Чат гпт сказал что люди менее вероятней выберут этот варик:
![аль текст](<CleanShot 2024-12-20 at 23.32.30@2x.png>)

### Описание работы

В этой лабораторочке мы возьмем данные биллинга от нашего облачного провайдера и попытаемся понять, что твориться. Разберемся с типами сервисов, их подтипами, usage type.

### Цель работы:

- Прокачать понимание в облаках: что, куда.
- Научиться классифицировать сервисы по разным абстракциям и уровням.

### Дано:

- Слепок данных после обработки: у нас есть SQL-параметры, и знаки `%` вначале и вконце означают, что там может быть кто угодно и что угодно.
- В общем, у нас кучка данных по потреблению облачных сервисов, от которой мы должны получить цивильный список иерархий.

### Необходимо:

1. Загрузить наш csv-файл или параметры в какую-нибудь табличную програмульку — хоть считай на спичках, лишь бы покатило.
2. Сопоставить данные с документацией провайдера — надо понять, какой сервис за что отвечает.
3. Сохранить итоговый результат и сложить его в онлайн папочку.
4. Повышать карму. Просто так.

### Ход работы

#### Изначально:

Был хаос: сырые данные, куча строк — непонятно.

#### Исходные данные:
Набор колонок с названиями сервисов, типов, usage, и так далее. Пока это выглядит, как раскиданный пазл без картинки.

Вот так вот: ![](<CleanShot 2024-12-26 at 04.14.28@2x.png>)

#### Сопоставление с документацией:

Подглянул в доки AWS:  
- S3 — хранилище и передача объектов.  
- QLDB — данные журнала.  
- Redshift — большие данные, аналитика.  
- VPC — сеть, туннели, гейты.  
- SES — отправка и обработка писем.  
- SNS — широковещательная отправка уведомлений на разные протоколы.

#### Описание сервисов:

**Amazon S3**  
Это хранилище для объектов. Можно туда скинуть свои данные, картинки с интернетов, архивы, и потом забирать их, гонять туда-сюда. Подтипы могут быть: Data Transfer In/Out, Retrieval (достаем данные), Replication (реплицируем), Content Delivery (доставка контента через CloudFront).

**Amazon QLDB**  
Блокчейн-подобная база данных. Можно считать ее "честной бухгалтерией": что записал, то и получил, а назад отмотать сложно. Storage — хранение журнала, Requests — запросики на запись/чтение.

**Amazon Redshift**  
Это наш озерный дом для данных (хранилище данных). Compute Hours — время работы узлов, Query Processing — обработка запросов, Data Scanned — объем данных, который мы считаем.

**Amazon VPC**  
Виртуальная частная облачная сетка: Data Transfer (всякие гансы трафика), VPN, Transit Gateway, VPC Endpoint. Варианты usage могут быть связаны с часами подключения, трафиком внутри региона, попытками подключений.

**Amazon SES**  
Сервис для отправки почты. Можно рассылать письма, прикреплять аттачи, в общем — ваш личный почтовый голубь в облаке. 

**Amazon SNS**  
Сервис уведомлений, шлет сообщения в разные направления и доставляет их куда скажешь: HTTP, HTTPS, SQS, SMS, Lambda и так далее. Делает попытки доставки, учитывает стоимость SMS, и вообще очень гибкий.

### Для самых любознательных:

Если видим типа "Storage Classes" — может быть куча вариантов, оставим как есть. Главное — понимать, что это разные режимы или слои хранения данных. Где-то цены за хранение холодных данных меньше, но доставать дороже, а где-то все наоборот. 

Если видим DataTransfer (In/Out), это значит, что трафик гоняется между сервисами или наружу. 

Если Requests Tier1/Tier2 — это тарифные уровни запросов, где один дешевле, другой дороже.

### Сортировка данных: 

Логика проста: кто сканирует и пересылает больше всего (Redshift, S3), тот и выше. Кто просто чиллит и бросает немного уведомлений в эфир (SNS, SES) — в серединке. Совсем неторопливые и специализированные задачи (QLDB) будут ближе к низу, так как они не потребляют столько ресурсов.

Таким образом, мы видим понятную картину того, как распределяется потребление ресурсов от наиболее тяжёлых вверху до менее жадных внизу. Это помогает понять, где оптимизировать инфраструктуру или сэкономить денежку.

### Результаты обработки данных:

В итоге распихали все по полочкам, классифицировали сервисы, подтипы, usage type. Теперь наша табличка сияет, как новая белая пасиффика у гитариста.

Что получилось по итогу: ![](<CleanShot 2024-12-26 at 04.20.14@2x.png>)

### Итоговые данные тут: [тыкни](https://docs.google.com/spreadsheets/d/1EY5MoFgG6Z7DntYVFE1A1ZmveN2zdG86iN6S-46PRHg/edit?usp=sharing)

## Вывод

Ну что, я молодец. В ходе этой работы я:
- Познакомился с облачными сервисами и способами их классификации.
- Понял, что абстракция над инфраструктурой бывает разной — от простого хранения до мощных аналитических DWH.
- Научился распознавать типы потребления (DataTransfer, NodeHours и т.д.) и классифицировать их по семействам.

Спасибо за внимание, не забывайте чистить свой баккапчик.
